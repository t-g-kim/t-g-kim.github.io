<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>싱글톤 패턴 | 게을러지지마</title>
<meta name="robots" content='index, follow'>
<meta name="description" content="Sample article showcasing basic code syntax and formatting for HTML elements.">
<meta name="generator" content="hugo-index">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<meta name="naver-site-verification" content="df8058686cca369f7a31cb97318b2dd21d8fe4ed" />
<link rel="alternate" type="application/rss+xml" href="https://log.readme.website/index.xml" title="게을러지지마">

<meta property="og:title" content="게을러지지마" />
<meta property="og:url" content="https://log.readme.website/" />
<meta property="og:image" content="https://log.readme.website/image.jpg" />
<meta property="og:image:alt" content="No Images" />
<meta property="og:description" content="개발공부, 개발도서, 튜토리얼, 개발정리, 개발공부, 개발자, 서버개발자" />

<script async src="https://www.googletagmanager.com/gtag/js?id=G-5FRKGEC23X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-5FRKGEC23X');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-195863746-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-195863746-2');
</script>
<link crossorigin="anonymous" href="https://log.readme.website/assets/stylesheet.css" rel="preload stylesheet" as="style">
<script crossorigin="anonymous" src="https://log.readme.website/assets/quicklink.js" rel="preload" as="script"></script>
<script>
    window.addEventListener('load', () => {
        quicklink.listen();
    });
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6690487239486575"
     crossorigin="anonymous"></script>
  </head>
  <body><header>
  <h1>
    <a href="https://log.readme.website/">
      
      <span>게을러지지마</span>
    </a>
    <span class="hl">/</span>
    <a href="https://log.readme.website/singleton/">
      <span>싱글톤 패턴</span>
    </a>
  </h1>
  <p class="desc">Sample article showcasing basic code syntax and formatting for HTML elements.</p>
  <p class="bookList">
    book : 
    <a target="_blank" href="https://t-g-kim.github.io/book-aws">aws</a>
    <a target="_blank" href="https://t-g-kim.github.io/book-algorithm">algorithm</a>
  </p>
</header><div class="main">

<ul class="tagsList single">
  
  <li><a href="https://log.readme.website/java/">java</a></li>
  
  <li><a href="https://log.readme.website/singleton/">singleton</a></li>
  
</ul>

<div class="content"><h3 id="java-singleton-예제">java Singleton 예제</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span> 

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// 외부에서 호출하지 못하게 기본 생성자는 private로 지정
</span><span class="c1"></span>    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">increaseCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">count</span><span class="o">++;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">count</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><h3 id="java-singleton-예제2">java Singleton 예제2</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>

    <span class="c1">// Thread safe하지 않다.
</span><span class="c1"></span>    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">singleton</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">(){}</span>

    <span class="kd">public</span> <span class="n">Singleton02</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">singleton</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">singleton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">singleton</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><p>위의 예제는 Multi-Thread환경에서 Thread safe하지 못하다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java">    <span class="k">if</span> <span class="o">(</span><span class="n">singleton</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">singleton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></div><p>여러개의 쓰레드가 공유되고 있는 상황에서 위의 블럭에 조건문이 동시에 여러번 돌 수 있다.<br>
하나의 인스턴스가 아닌 여러개의 인스턴스가 발생할 위험이 있다.</p>
<h3 id="싱글톤-패턴의-장점">싱글톤 패턴의 장점</h3>
<ul>
<li>고정된 메모리 영역을 얻으면서 한번의 new로 인스턴스를 사용하기 때문에 메모리 낭비를 방지할 수 있다.</li>
<li>싱글톤으로 만들어진 클래스의 인스턴스는 전역이기 때문에 다른 클래스의 인스턴스들이 데이터를 공유하기 쉽다.</li>
<li>인스턴스가 절대적으로 한 개만 존재하는 것을 보증하고 싶을 경우 사용한다.</li>
<li>두 번째 이용시 부터는 객체 로딩 시간이 줄어 성능이 좋아지는 장점이 있다.</li>
</ul>
<h3 id="싱글톤-패턴의-단점">싱글톤 패턴의 단점</h3>
<ul>
<li>
<p>싱글톤 인스턴스가 너무 많은 일을 하거나 많은 데이터를 공유시킬 경우에 다른 클래스의 인스턴스들 간에 결합도가 높아져 &ldquo;개방-폐쇄 원칙&quot;을 위배하게 된다.<br>
이는 객체 지향 설계 원칙에 어긋나기 때문에 수정이 어려워지고 유지보수의 비용이 높아질 수 있다.</p>
</li>
<li>
<p>멀티쓰레드 환경에서 동기화 처리를 안하면 인스턴스가 2개가 생성 될 수 있는 가능성이 생기게 된다.</p>
</li>
</ul>
</div>
<br><br><br>
<hr>
<script src="https://utteranc.es/client.js"
        repo="t-g-kim/utterances"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script></div><footer>
    <hr>
    <div class="footer-text">
        
        <div><a href="https://github.com/t-g-kim">github</a></div>
    </div>
</footer>
</body>
</html>
